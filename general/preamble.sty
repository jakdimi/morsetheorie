\ProvidesPackage{../general/preamble}

% select font encoding
\usepackage[T1]{fontenc}

% something to do with tables and figures
\usepackage{float}

% set the geometry pf the document
%\newif\ifdraft
\usepackage{geometry}
\geometry{
	a4paper,
	left=30mm,
	right=30mm,
	top=35mm,
	marginparwidth=23mm
}

% useful while editing text
\usepackage[obeyDraft,textsize=small]{todonotes}

% configure title format
\usepackage{titlesec}
\titleformat{\section}[hang]{\Large\bfseries}{ยง\thesection}{1em}{}
\titleformat{\subsection}[hang]{\large\bfseries}{ยง\thesubsection}{1em}{}
\titleformat{\subsubsection}[hang]{\bfseries}{ยง\thesubsubsection}{1em}{}

%\usepackage{subcaption}
%\usepackage{pigpen}

% itemize, enumerate ...
\usepackage{enumitem}
\renewcommand{\labelitemi}{\labelitemfont\textendash}

% to include images
\usepackage{graphicx}

% Doublepacing
\usepackage[onehalfspacing]{setspace}

% Steffen's line break
\newcommand{\sectiondone}{\hfill \break \rightline{\mbox{\rotatebox{145}{${\|}$}}}}

% Steffen's small qed
\newcommand{\smallqed}{\mbox{\rotatebox{145}{${\|}$}}}

% math ========================================================================

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
%\usepackage{mathtools}

% cool diagrams
\usepackage{tikz-cd}

% rings and fields
\newcommand{\N}{{ \mathbb N }}
\newcommand{\Z}{{ \mathbb Z }}
\newcommand{\Q}{{ \mathbb Q }}
\newcommand{\R}{{ \mathbb R }}
\newcommand{\C}{{ \mathbb C }}
\newcommand{\M}{{ \mathcal{M} }}
\newcommand{\Lt}{{ \mathcal{L} }}
\newcommand{\Lb}{{\overline{\mathcal{L}} }}

\newcommand{\id}{{ \operatorname{id} }}
\newcommand{\opd}{{ \operatorname{d} }}
\newcommand{\Index}{{ \operatorname{ind} }}
\newcommand{\grad}{{ \nabla }}
\newcommand{\betti}{{ \operatorname{b} }}
\newcommand{\Hom}{{ \operatorname{H} }}
\newcommand{\Ima}{{ \operatorname{Im} }}
\newcommand{\Obj}{{ \mathsf{Obj} }}
\newcommand{\del}{{ \partial }}
\newcommand{\supp}{{ \operatorname{supp} }}
\newcommand{\Crit}{{ \operatorname{Crit} }}

% partial derivative commands
\newcommand{\pderive}[2][]{{ \frac{ \partial #1 }{\partial #2} }}
\newcommand{\pdderive}[3][]{{ \frac{\partial^2 #1}{\partial #2 \partial #3} }}
\newcommand{\derive}[2][]{{ \frac{\opd #1}{\opd #2} }}

% =============================================================================


% define custom environemnts ==================================================

\theoremstyle{plain}
\newtheorem{theorem}[subsection]{Theorem}

\theoremstyle{plain}
\newtheorem{corollary}[subsection]{Corollary}

\theoremstyle{plain}
\newtheorem{lemma}[subsection]{Lemma}

\theoremstyle{plain}
\newtheorem{prop}[subsection]{Proposition}

\theoremstyle{definition}
\newtheorem{definition}[subsection]{Def.}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}

\newcommand{\proofheading}[1]{\hfill \break {\fontfamily{lmss}\selectfont #1.} }

% Claim and smallproof --------------------------------------------------------
% For use inside of proofs.

\newcounter{claimcount}
\setcounter{claimcount}{-1}
\newenvironment{bigproof}{%
	\setcounter{claimcount}{0}
	\begin{proof}
}{%
	\end{proof}
	\setcounter{claimcount}{-1}
}

\newtheorem{claim}[claimcount]{Claim}

\newtheorem*{claim*}{Claim}


\newenvironment{smallproof}{%
	\renewcommand{\qedsymbol}{\smallqed}
	\begin{proof}[Proof of claim\ifnum\c@claimcount<1 
		\else
			\:\theclaimcount 
		\fi]
}{%
	\end{proof}
	\renewcommand{\qedsymbol}{\square}
}

% -----------------------------------------------------------------------------

% =============================================================================


% biblatex is disabled because it takes so long to compile
%\usepackage[
%    backend=biber,
%    style=alphabetic,
%    sorting=ynt
%]{biblatex}
%\addbibresource{../general/literature.bib}