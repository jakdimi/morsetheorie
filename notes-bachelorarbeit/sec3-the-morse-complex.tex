\section{The Morse Complex}

\begin{prop}
    Define $C_k(M, f)$ as the $\Z/2$-Module generated by the critical points of $f$ of
    index $k$ and let $n_X(p, q) = \# \mathcal{L}(p, q) \mod 2$. Then
    \[ \del_X : C_k(M, f) \to C_{k-1}(M, f) \]
    such that if $p$ is a critical point of $f$ of index $k$, we have
    \[ \del_X(p) = \sum_{\Index(p) = \Index(q) + 1} n_X(p, q)q \]
    Then $(C_*(M, f), \del_X)$ is a chain complex.
\end{prop}

To proof that this is a chain complex we first have to examin the so called
\textit{space of broken trajectories}:

\begin{definition}
    The \textit{space of broken trajectories} is
    \[ 
        \Lb(p, q) = \bigcup_{ \{c_1, ..., c_i\} \subseteq \Crit(f )} 
            \Lt (p, c_1) \times \Lt (c_1, c_2) \times ... \times \Lt(c_i, q) 
    \]

    We can define a topology on this space as follows: \\
    For this, let $\lambda = (\lambda_1, ..., \lambda_l) \in \Lb(p, q)$. Then $\lambda$ 
    connects a certain number of critical points via the trajectories $\lambda_i$, where 
    $\lambda_i$ exits a critical point $c_i$ and enters $c_{i+1}$. Now let $U_i^-$ be a 
    neghboehood of the point at which $\lambda_i$ exits the chosen Morse neighborhood 
    around $c_{i-1}$ and $U_i^+$ be a neighborhood of the point at which $\lambda_i$
    enters the Morse-neighborhood of $c_i$. Then $U^-$ is the collection of the $U_i-$
    and $U_+$ the collection of the $U_i^+$. Then we say that a trajectory 
    $\mu = (\mu_1, ..., \mu_k) \in \mathcal{W}(\lambda, U^-, U^+)$, if there exist 
    integers
    \[ 0 < i_0 < ... < i_k = l \]
    such that:
    \begin{itemize}
        \item $\mu_j \in \Lt(c_{i_j}, c_{i_{j+1}})$ for every $j \leq k$
        \item $\mu_j$ exits the chart $\Omega(c_{j+1})$ the interior of the corresponding
            element in $U^-$ and enters the chart $\Omega(c_{j})$ through  interior of 
            the corresponding element in $U^+$.
    \end{itemize}
    The $\mathcal{W}(\lambda, U^-, U^+)$ form a fundamental system of open neighborhoods 
    for a topology on $\Lb(p, q)$. 
    %\todo{But do they?}
\end{definition}

It is clear 
\todo{Is it really?} 
that the resulting topology coincides with the topology
of $\Lt(p, q)$. 

\begin{remark}
    We have seen earlier that $\Lt(c_i, c_{i+1})$ is only well defined if 
    $c_i \neq c_{i + 1}$, and we know that the index is decreasing along trajectory lines,
    so $\Lt(c_i, c_{i+1}) = \varnothing$ if $\Index \, c_i \leq \Index \, c_{i + 1}$.
    Then $\Lb(p, q)$ is a tuple that gives a "direction" along trajectories
    from $p$ to $q$.
\end{remark}

As suggested by the notation, $\Lb(p, q)$ can be endowed with a topology, such that 
it is the closure of $\Lt(p, q)$, indeed its compactification. 
To show this is the aim of the next couple sections.

\begin{theorem}
    The space $\Lb(p, q)$ is compact.
\end{theorem}

\begin{corollary}
    If $\Index(p) = \Index(q) + 1$, then $\Lt(p, q)$ is finite.
\end{corollary}

\begin{remark}
    Hence $n_X(p, q)$ is well defined.
\end{remark}

\begin{proof}
    The corollary follows immedeatly from the theorem, because in this case we have
    \[ \Lt(p, q) = \Lb(p, q) \]
\end{proof}

\begin{proof}[Proof of theorem]
    Let $(l_n)_n$ be a sequence in $\Lb(p, q)$.
    We begin by assuming that $l_n \in \Lt(p, q)$. The trajectory $l_n$ exits 
    $\Omega(p)$ through a point $l_n^-$ and enters $\Omega(q)$ at a point $l_n^+$.
    The point $l_n^-$ is in the intersection of the unstable manifold and the boundary
    $\del \Omega (p)$. This is a sphere and therefore compact. After extracting a 
    subsequence, we may, and do, therefore assume that
    \[ \lim l_n^- = a^- \; \text{ and } \; \lim l_n^+ = b^+ \]
    Let $\gamma(t) = \varphi_t(a^-)$ be the trajectory of $a^-$, and let 
    $c_1 = \lim_{t \to \infty} \gamma(t)$. Then $c_1$ is a critical point and 
    $\gamma \in \Lt (p, c_1)$. Let $d^+$ be the entrypoint of $\gamma$ into
    $\Omega (c_1)$. By the theorem of the dependence of differential equation on the 
    initial condition, for a large enough $n$, $l_n$ must also enter $\Omega(c_1)$
    through a point $d_n^+$. Then by the following claim we get $\lim d_n^+ = d_n$.
    \begin{claim*}
        Let $x \in M - \Crit (f)$ and let $(x_n)_n$ be a sequence that tends to $x$.
        Let $y_n$ and $y$ be points that lie on the same trajectories as $x_n$ for all
        $n$ and x respectively. We moreover suppose that $f(y_n) = f(y)$. Then 
        \[ \lim y_n = y \]
    \end{claim*}
    \begin{smallproof}
        Let $U$ be a neighborhood of $\Crit (f)$ that does not contain 
        $x, y, x_n, y_n$ and let 
        \[ Y = - \frac{X}{dfX} \]
        defined on $M - U$ as in the proof of the first deformation lemma. Let 
        $\psi_t$ be its flow. the trajectories of $Y$ are the same as those of $X$
        and moreover 
        \[ f(\psi_t(p)) = f(p) - t \]
        We then get
        \[ y = \psi_{- f(y) + f(x)}(x)\]
        and so
        \[ \lim y_n = \lim \psi_{-f(y) + f(x_n)} (x_n) = y \]
    \end{smallproof}
    If $c_1 = b$, then we have $\lim l_n = \gamma$ and the sequence $(l_n)_n$ has a 
    convergent subsequence. If this is not the case, then $d_n^+$ does not lie on
    the stable manifold of $c_1$, so that $l_n$ exits $\Omega (c_1)$ through a point
    $d_n^-$. We then may, and do, assume that the sequence converges to a point 
    $d^-$. this point lies on the trajectory of a $d_{\ast}$, with 
    $f(d_{\ast}) = f(d_n^+)$, that moreover is not in $W^s (c_1)$. Because of the 
    previous claim, $d_n^+$ tends to $d_{\ast}$, so then $d_{\ast} = d^+$, which is
    absurd since $d^+ \in W^s(c_1)$. \\
    We are left to consider the general case of a sequence of elements in $\Lb (p, q)$.
    There exist critical points $c_1, ..., c_{k - 1}$ such that, for $n$ sufficiently
    large and up to the extraction of a subsequence, we have
    \[ l_n = (l^1_n, ..., l^q_n) \in \Lt(p, c_1) \times ... \times \Lt(c_{q - 1}, q) \]
    we apply the previous result to $(l^1_n)_n, ..., (l^q_n)_n$.
\end{proof}
