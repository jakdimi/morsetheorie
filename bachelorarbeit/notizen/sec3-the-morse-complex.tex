\section{The Morse Complex}

\begin{prop}
    Define $C_k(M, f)$ as the $\Z/2$-Module generated by the critical points of $f$ of
    index $k$ and let $n_X(p, q) = \# \mathcal{L}(p, q) \mod 2$. Then
    \[ \del_X : C_k(M, f) \to C_{k-1}(M, f) \]
    such that if $p$ is a critical point of $f$ of index $k$, we have
    \[ \del_X(p) = \sum_{\Index(p) = \Index(q) + 1} n_X(p, q)q \]
    Then $(C_*(M, f), \del_X)$ is a chain complex.
\end{prop}

To proof that this is a chain complex we first have to examin the so called
\textit{space of broken trajectories}:

\begin{definition}
    The \textit{space of broken trajectories} is
    \[ 
        \Lb(p, q) = \bigcup_{ \{c_1, ..., c_i\} \subseteq \Crit(f )} 
            \Lt (p, c_1) \times \Lt (c_1, c_2) \times ... \times \Lt(c_i, q) 
    \]

    We can define a topology on this space as follows: \\
    For this, let $\lambda = (\lambda_1, ..., \lambda_l) \in \Lb(p, q)$. Then $\lambda$ 
    connects a certain number of critical points via the trajectories $\lambda_i$, where 
    $\lambda_i$ exits a critical point $c_i$ and enters $c_{i+1}$. Now let $U_i^-$ be a 
    neghboehood of the point at which $\lambda_i$ exits the chosen Morse neighborhood 
    around $c_{i-1}$ and $U_i^+$ be a neighborhood of the point at which $\lambda_i$
    enters the Morse-neighborhood of $c_i$. Then $U^-$ is the collection of the $U_i-$
    and $U_+$ the collection of the $U_i^+$. Then we say that a trajectory 
    $\mu = (\mu_1, ..., \mu_k) \in \mathcal{W}(\lambda, U^-, U^+)$, if there exist 
    integers
    \[ 0 < i_0 < ... < i_k = l \]
    such that:
    \begin{itemize}
        \item $\mu_j \in \Lt(c_{i_j}, c_{i_{j+1}})$ for every $j \leq k$
        \item $\mu_j$ exits the chart $\Omega(c_{j+1})$ the interior of the corresponding
            element in $U^-$ and enters the chart $\Omega(c_{j})$ through  interior of 
            the corresponding element in $U^+$.
    \end{itemize}
    The $\mathcal{W}(\lambda, U^-, U^+)$ form a fundamental system of open neighborhoods 
    for a topology on $\Lb(p, q)$. 
    %\todo{But do they?}
\end{definition}

It is clear 
\todo{Is it really?} 
that the resulting topology coincides with the topology
of $\Lt(p, q)$. 

\begin{remark}
    We have seen earlier that $\Lt(c_i, c_{i+1})$ is only well defined if 
    $c_i \neq c_{i + 1}$, and we know that the index is decreasing along trajectory lines,
    so $\Lt(c_i, c_{i+1}) = \varnothing$ if $\Index \, c_i \leq \Index \, c_{i + 1}$.
    Then $\Lb(p, q)$ is a tuple that gives a "direction" along trajectories
    from $p$ to $q$.
\end{remark}

As suggested by the notation, $\Lb(p, q)$ can be endowed with a topology, such that 
it is the closure of $\Lt(p, q)$, indeed its compactification. 
To show this is the aim of the next couple sections.

\begin{theorem}
    The space $\Lb(p, q)$ is compact.
\end{theorem}

\begin{corollary}
    If $\Index(p) = \Index(q) + 1$, then $\Lt(p, q)$ is finite.
\end{corollary}

\begin{remark}
    Hence $n_X(p, q)$ is well defined.
\end{remark}

\begin{proof}
    The corollary follows immedeatly from the theorem, because in this case we have
    \[ \Lt(p, q) = \Lb(p, q) \]
\end{proof}

\begin{proof}[Proof of theorem]
    Let $(\ell_n)_n$ be a sequence in $\Lb(p, q)$.
    We begin by assuming that $\ell_n \in \Lt(p, q)$. The trajectory $\ell_n$ exits 
    $\Omega(p)$ through a point $\ell_n^-$ and enters $\Omega(q)$ at a point $\ell_n^+$.
    The point $\ell_n^-$ is in the intersection of the unstable manifold and the boundary
    $\del \Omega (p)$. This is a sphere and therefore compact. After extracting a 
    subsequence, we may, and do, therefore assume that
    \[ \lim \ell_n^- = a^- \; \text{ and } \; \lim \ell_n^+ = b^+ \]
    Let $\gamma(t) = \varphi_t(a^-)$ be the trajectory of $a^-$, and let 
    $c_1 = \lim_{t \to \infty} \gamma(t)$. Then $c_1$ is a critical point and 
    $\gamma \in \Lt (p, c_1)$. Let $d^+$ be the entrypoint of $\gamma$ into
    $\Omega (c_1)$. By the theorem of the dependence of differential equation on the 
    initial condition, for a large enough $n$, $\ell_n$ must also enter $\Omega(c_1)$
    through a point $d_n^+$. Then by the following claim we get $\lim d_n^+ = d_n$.
    \begin{claim*}
        Let $x \in M - \Crit (f)$ and let $(x_n)_n$ be a sequence that tends to $x$.
        Let $y_n$ and $y$ be points that lie on the same trajectories as $x_n$ for all
        $n$ and x respectively. We moreover suppose that $f(y_n) = f(y)$. Then 
        \[ \lim y_n = y \]
    \end{claim*}
    \begin{smallproof}
        Let $U$ be a neighborhood of $\Crit (f)$ that does not contain 
        $x, y, x_n, y_n$ and let 
        \[ Y = - \frac{X}{dfX} \]
        defined on $M - U$ as in the proof of the first deformation lemma. Let 
        $\psi_t$ be its flow. the trajectories of $Y$ are the same as those of $X$
        and moreover 
        \[ f(\psi_t(p)) = f(p) - t \]
        We then get
        \[ y = \psi_{- f(y) + f(x)}(x)\]
        and so
        \[ \lim y_n = \lim \psi_{-f(y) + f(x_n)} (x_n) = y \]
    \end{smallproof}
    If $c_1 = b$, then we have $\lim \ell_n = \gamma$ and the sequence $(\ell_n)_n$ has a 
    convergent subsequence. If this is not the case, then $d_n^+$ does not lie on
    the stable manifold of $c_1$, so that $\ell_n$ exits $\Omega (c_1)$ through a point
    $d_n^-$. We then may, and do, assume that the sequence converges to a point 
    $d^-$. this point lies on the trajectory of a $d_{\ast}$, with 
    $f(d_{\ast}) = f(d_n^+)$, that moreover is not in $\stab (c_1)$. Because of the 
    previous claim, $d_n^+$ tends to $d_{\ast}$, so then $d_{\ast} = d^+$, which is
    absurd since $d^+ \in \stab(c_1)$. \\
    We are left to consider the general case of a sequence of elements in $\Lb (p, q)$.
    There exist critical points $c_1, ..., c_{k - 1}$ such that, for $n$ sufficiently
    large and up to the extraction of a subsequence, we have
    \[ \ell_n = (\ell^1_n, ..., \ell^q_n) \in \Lt(p, c_1) \times ... \times \Lt(c_{q - 1}, q) \]
    we apply the previous result to $(\ell^1_n)_n, ..., (\ell^q_n)_n$.
\end{proof}

Note that, as suggested by the notation, $\Lb (a, b)$ is indeed the compactification
of $\Lt (a, b)$, because $\Lt (a, b)$ is open in $\Lb (a, b)$ and for every point 
$\ell \in \Lb (a, b)$ there exists a point in $\Lt (a, b)$ arbitrarily close to $\ell$. 
This is a result of the following proposition:

\begin{prop}
    Let $\lambda = (\lambda_1, \lambda_2) \in \Lb(a, b)$ with $\lambda_1 \in \Lt(a, c)$
    and $\lambda_2 \in \Lt (c, b)$ for some critical point $c$. For every $U^-$, 
    $U^+$ there exists an 
    \[ \ell \in \Lt (a, b) \cap \mathcal{W}(\lambda, U^-, U^+). \]
\end{prop}

\begin{proof}
    This follows directly from the constructions in the previous proof.
\end{proof}

\begin{theorem}
    If $\Index (a) = \Index (b) + 2$, then $\Lb(a, b)$ is a compact manifold with 
    boundary of dimension 1.
\end{theorem}

We already know that $\Lt (a, b)$ is a manifold of dimension 1. The theorem therefore
is a consequence of the following proposition:

\begin{prop}
    Let $M$ be a compact manifold, $f \colon M \to \R$ a morse function, $X$ a pseudo
    gradient field for $f$ satisfying the Smale property. Let $a, c$ and $b$ be critical
    points of Index $k + 1$, $k$ and $k-1$ respectively. Let $\lambda_1 \in \Lt(a, c)$
    and $\lambda_2 \in \Lt(c, b)$. \\
    There exists a continuous embedding $\psi$ from an interval $[0, \delta)$ onto a 
    neighborhood of $(\lambda_1, \lambda_2)$ in $\Lb (a, b)$ that is differentiable in 
    $(0, \delta)$ and satisfies both 
    \begin{itemize}
        \item $\psi(0) = (\lambda_1, \lambda_2) \in \Lb(a, b)$
        \item $\psi(s) \in \Lt(a, b)$ for $s \neq 0$.
    \end{itemize}
    Moreover, if $(\ell_n)_n$ is a sequence in $\Lt (a, b)$ that tends to $(\lambda_1, \lambda_2)$,
    then $\ell_n$ is contained in the image of $\psi$ for $n$ sufficiently large.
\end{prop}

\begin{proof}[Proof of proposition]
    Set $\alpha := f(c)$ and choose $\varepsilon > 0$ such that $f^{-1}(\alpha + \varepsilon)$
    and $f^{-1}(\alpha - \varepsilon)$ meet the morse chart $\Omega(c)$ along $\del_+\Omega(c)$
    and $\del_-\Omega(c)$, respectively. Also set
    \begin{align*}
        S_+(c) & = \stab (c) \cap f^{-1}(\alpha + \varepsilon) \cong S^{n - k - 1} \\
        S_-(c) & = \unst (c) \cap f^{-1}(\alpha - \varepsilon) \cong S^{k - 1}
    \end{align*}
    Let $a_1 = S_+(c) \cap \lambda_1$. $a_1$ just a point, The unstable manifold $\unst (a)$ meets 
    $f^{-1}(\alpha + \varepsilon)$ transversally along a submanifold $P$ of dimension $k$. $P$
    meets $S_+(c)$ transversally, since $X$ satisfies the Smale property, along a manifold of
    dimension $0$, which, in our case, is just a finite number of points. Let now 
    \[ D^k(\delta) = \{ (x_1, ..., x_k) \in \R^k : ||x|| < \delta \} \]
    and let $\Psi \colon (D^k, 0) \to (P, a_1)$ be a local parameterization of $P$ such that
    \[ \Ima \Psi \cup S_+(c) = a_1 \]
    We may, and do, assume that $D = \Ima \Psi$ is contained in $\del_+\Omega(c)$.
    By letting $D - {a_1}$ descend along the trajectory lines of $X$, we obtain an embedding
    \[ \Phi: D - {a_1} \to \del_- \Omega (c) \]
    We know that 
    \begin{claim*}
        After restricting the size of $D$, that is, after taking the restriction of $\Phi$ to 
        a disk of radius $\delta' < \delta$, if necessary, the union $Q = \Ima \Phi \cup S_- (c)$
        is a manifold of dimension $k$ with boundary, and its boundary is $\del Q = S_- (c)$.
    \end{claim*}
    From this claim the proposition follows: The image of $\Phi$ is an open subset of the intersection 
    of the unstable manifold of $a$ and the level set $f^{-1}(\alpha - \varepsilon)$. Since $X$ 
    satisfies the Smale property, we have 
    \[ \stab (b) \pitchfork \Ima \Phi \]
    and also 
    \[ \stab (b) \pitchfork S_- (c) . \]
    Consequently $\stab (b) \cap Q$ will be a submanifold of dimension $1$ in 
    $\del_- \Omega (c) \subseteq f^{-1}(\alpha - \varepsilon)$, and its boundary is 
    $\stab (b) \cap \del Q = \Lt (c, b)$. 
    Let $a_2$ be the intersection point of $\lambda_2$ and $S_-(c)$ and let us define a 
    parameterization
    \[ \chi \colon [0, \delta) \to \stab (b) \cap Q \]
    of this manifold with boundary, where the point $0$ is sent to $a_2$. We also have a map 
    \[ \Phi^{-1} \circ \chi \colon (0, \delta) \to \stab (b) \cap (D - \{ a_1 \}) . \]
    When $s \to 0$, the value of $\Phi^{-1} \circ \chi (s)$ dends to $a_1$. This follows from 
    one of the previous Lemmas. We can therefore extend it to $[0, \delta)$, thus obtaining 
    the desired $\psi$:
    \[ 
        \psi \colon [0, \eta) \to \Lb (a, b) \;\; \text{ with } \;\; 
        \psi (0) = (\lambda_1, \lambda_2) 
    \]
    \todo{not finished; Page 64}
    \todo{main objective is to declutter and untangle the differnet lemmata}
\end{proof}
